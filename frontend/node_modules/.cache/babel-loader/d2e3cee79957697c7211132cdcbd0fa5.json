{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mauricio\\\\Desktop\\\\UADE\\\\3\\xBA A\\xF1o 2C\\\\Aplicaciones Interactivas\\\\TPO\\\\fulboAPI\\\\frontend\\\\src\\\\componentes\\\\campeonato.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"../estilos/estiloPagina.css\";\nimport tabla from \"./tabla\";\nimport mostrarPartido from \"./mostrarPartido\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Campeonato extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(\"id: \" + props.match.params.id);\n    this.state = {\n      user: props.user,\n      idCampeonato: props.match.params.id,\n      campeonato: null,\n      tabla: [],\n      partidos: [],\n      cantFechas: [],\n      fechaActual: 1,\n      cargando: true\n    };\n  } //id (int), descripcion (str), fechaInicio (Date), fechaFin (Date), estado (str), clubes (array de json)\n  //clubes[i]: id (int), nombre (str), direccion (str)\n\n\n  onChangeBuscarFecha(e) {\n    this.setState({\n      fechaActual: parseInt(e.target.value)\n    });\n  }\n\n  componentDidMount() {\n    if (this.state.user.rol != \"Administrador\") {\n      let elemento = document.getElementById(\"estado\");\n      elemento.style.display = \"none\";\n    }\n\n    fetch(\"http://localhost:8080/getCampeonato?idCampeonato=\" + this.state.idCampeonato).then(response => response.json()).then(camp => {\n      console.log(camp);\n      this.setState({\n        campeonato: camp\n      });\n\n      if (this.state.campeonato.tieneZonas === \"s\") {\n        fetch(\"http://localhost:8080/getTablaPorZonas?idCampeonato=\" + this.state.idCampeonato) //Busco resultados\n        .then(response => response.json()).then(tablasJSON => {\n          console.log(tablasJSON);\n          this.setState({\n            tabla: tablasJSON\n          });\n        }).catch(error => {\n          console.log(`Hay un error en la llamada: ${error}`);\n        });\n      } else {\n        fetch(\"http://localhost:8080/getTablaPos?idCampeonato=\" + this.state.idCampeonato) //Busco resultados\n        .then(response => response.json()).then(tablasJSON => {\n          console.log(tablasJSON);\n          this.setState({\n            tabla: tablasJSON\n          });\n        }).catch(error => {\n          console.log(`Hay un error en la llamada: ${error}`);\n        });\n      }\n\n      fetch(\"http://localhost:8080/getPartidosCampeonato?idCampeonato=\" + this.state.idCampeonato).then(response => response.json()).then(partidosJSON => {\n        console.log(partidosJSON);\n        this.setState({\n          partidos: partidosJSON\n        });\n        fetch(\"http://localhost:8080/getCantidadFechas?idCampeonato=\" + this.state.idCampeonato).then(response => response.json()).then(cant => {\n          let arrFechas = [];\n\n          for (var i = 1; i <= cant; i++) {\n            arrFechas.push(i);\n          }\n\n          console.log(arrFechas);\n          this.setState({\n            cantFechas: arrFechas,\n            cargando: false\n          });\n        }).catch(error => {\n          console.log(`Hay un error en la llamada: ${error}`);\n        });\n      }).catch(error => {\n        console.log(`Hay un error en la llamada: ${error}`);\n      });\n    }).catch(error => {\n      console.log(`Hay un error en la llamada: ${error}`);\n    });\n  }\n\n  cambiarEstado() {\n    let campeonatoDummy = this.state.campeonato;\n    campeonatoDummy.estado == \"activo\" ? campeonatoDummy.estado = \"inactivo\" : campeonatoDummy.estado = \"activo\";\n    fetch(\"http://localhost:8080/updateCampeonato\", {\n      method: \"PUT\",\n      mode: 'cors',\n      body: JSON.stringify(this.state.campeonato),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(this.setState({\n      campeonato: campeonatoDummy\n    })).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    if (this.state.cargando) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this);\n    } else if (this.state.campeonato.tieneZonas === \"n\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"titulo\",\n          children: this.state.campeonato.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"estado\",\n          children: [this.state.campeonato.estado, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              this.cambiarEstado();\n            },\n            children: \"Editar Campeonato\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 59\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"tablas\",\n          children: tabla(this.state.campeonato, this.state.tabla, 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"fixture\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"fechaSelectores\",\n            children: [\"Fecha:\", /*#__PURE__*/_jsxDEV(\"select\", {\n              onChange: this.onChangeBuscarFecha.bind(this),\n              children: this.state.cantFechas.map(fecha => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: fecha,\n                  children: [\" \", fecha, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            class: \"tablafixture\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                class: \"diafecha\",\n                children: this.state.partidos.filter(partido => partido.nroFecha === this.state.fechaActual).at(0).fechaPartido\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 19\n              }, this), this.state.partidos.filter(partido => partido.nroFecha === this.state.fechaActual).map((part, index) => mostrarPartido(part, index))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"titulo\",\n          children: this.state.campeonato.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"estado\",\n          children: [this.state.campeonato.estado, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              this.cambiarEstado();\n            },\n            children: \"Editar Campeonato\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 59\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"tablas\",\n          children: this.state.tabla.map((zona, index) => tabla(this.state.campeonato, zona, index + 1))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"fixture\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"fechaSelectores\",\n            children: [\"Fecha:\", /*#__PURE__*/_jsxDEV(\"select\", {\n              onChange: this.onChangeBuscarFecha.bind(this),\n              children: this.state.cantFechas.map(fecha => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: fecha,\n                  children: [\" \", fecha, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            class: \"tablafixture\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                class: \"diafecha\",\n                children: this.state.partidos.filter(partido => partido.nroFecha === this.state.fechaActual).at(0).fechaPartido\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this), this.state.partidos.filter(partido => partido.nroFecha === this.state.fechaActual).map((part, index) => mostrarPartido(part, index))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default Campeonato;","map":{"version":3,"sources":["C:/Users/Mauricio/Desktop/UADE/3º Año 2C/Aplicaciones Interactivas/TPO/fulboAPI/frontend/src/componentes/campeonato.js"],"names":["React","useState","useEffect","tabla","mostrarPartido","Campeonato","Component","constructor","props","console","log","match","params","id","state","user","idCampeonato","campeonato","partidos","cantFechas","fechaActual","cargando","onChangeBuscarFecha","e","setState","parseInt","target","value","componentDidMount","rol","elemento","document","getElementById","style","display","fetch","then","response","json","camp","tieneZonas","tablasJSON","catch","error","partidosJSON","cant","arrFechas","i","push","cambiarEstado","campeonatoDummy","estado","method","mode","body","JSON","stringify","headers","render","descripcion","bind","map","fecha","filter","partido","nroFecha","at","fechaPartido","part","index","zona"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"../estilos/estiloPagina.css\";\r\nimport tabla from \"./tabla\";\r\nimport mostrarPartido from \"./mostrarPartido\";\r\n\r\n\r\nclass Campeonato extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"id: \" + props.match.params.id);\r\n    this.state = {\r\n      user: props.user,\r\n      idCampeonato: props.match.params.id,\r\n      campeonato: null,\r\n      tabla: [],\r\n      partidos: [],\r\n      cantFechas: [],\r\n      fechaActual: 1,\r\n      cargando: true,\r\n    };\r\n  }\r\n  //id (int), descripcion (str), fechaInicio (Date), fechaFin (Date), estado (str), clubes (array de json)\r\n  //clubes[i]: id (int), nombre (str), direccion (str)\r\n\r\n  onChangeBuscarFecha(e) {\r\n    this.setState({fechaActual: parseInt(e.target.value)})\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.state.user.rol != \"Administrador\") {\r\n      let elemento = document.getElementById(\"estado\")\r\n      elemento.style.display = \"none\"\r\n    }\r\n    fetch(\r\n      \"http://localhost:8080/getCampeonato?idCampeonato=\" +\r\n        this.state.idCampeonato\r\n    )\r\n      .then((response) => response.json())\r\n      .then((camp) => {\r\n        console.log(camp);\r\n        this.setState({ campeonato: camp });\r\n        if (this.state.campeonato.tieneZonas === \"s\") {\r\n          fetch(\r\n            \"http://localhost:8080/getTablaPorZonas?idCampeonato=\" +\r\n              this.state.idCampeonato\r\n          ) //Busco resultados\r\n            .then((response) => response.json())\r\n            .then((tablasJSON) => {\r\n              console.log(tablasJSON);\r\n              this.setState({ tabla: tablasJSON });\r\n            })\r\n            .catch((error) => {\r\n              console.log(`Hay un error en la llamada: ${error}`);\r\n            });\r\n        } else {\r\n          fetch(\r\n            \"http://localhost:8080/getTablaPos?idCampeonato=\" +\r\n              this.state.idCampeonato\r\n          ) //Busco resultados\r\n            .then((response) => response.json())\r\n            .then((tablasJSON) => {\r\n              console.log(tablasJSON);\r\n              this.setState({ tabla: tablasJSON });\r\n            })\r\n            .catch((error) => {\r\n              console.log(`Hay un error en la llamada: ${error}`);\r\n            });\r\n        }\r\n        fetch(\r\n          \"http://localhost:8080/getPartidosCampeonato?idCampeonato=\"+\r\n            this.state.idCampeonato\r\n        )\r\n          .then((response) => response.json())\r\n          .then((partidosJSON) => {\r\n            console.log(partidosJSON);\r\n            this.setState({ partidos: partidosJSON })\r\n            fetch(\"http://localhost:8080/getCantidadFechas?idCampeonato=\"+\r\n                    this.state.idCampeonato\r\n            )\r\n            .then((response) => response.json())\r\n            .then((cant) => {\r\n              let arrFechas = [];\r\n              for (var i=1; i<=cant; i++){\r\n                arrFechas.push(i);\r\n              }\r\n              console.log(arrFechas)\r\n              this.setState({cantFechas: arrFechas, cargando: false});\r\n            })\r\n            .catch((error) => {\r\n              console.log(`Hay un error en la llamada: ${error}`);\r\n            })\r\n          })\r\n          .catch((error) => {\r\n            console.log(`Hay un error en la llamada: ${error}`);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.log(`Hay un error en la llamada: ${error}`);\r\n      });\r\n  }\r\n\r\n  cambiarEstado() {\r\n    let campeonatoDummy = this.state.campeonato\r\n    campeonatoDummy.estado == \"activo\" ? campeonatoDummy.estado = \"inactivo\" : campeonatoDummy.estado = \"activo\"\r\n  fetch(\"http://localhost:8080/updateCampeonato\",{method:\"PUT\",mode: 'cors', body: JSON.stringify(this.state.campeonato), headers: {'Content-Type': 'application/json'}})\r\n  .then(this.setState({campeonato: campeonatoDummy}))\r\n  .catch(e => {console.log(e)})\r\n  }\r\n\r\n  render() {\r\n    if (this.state.cargando) {\r\n      return (\r\n        <div>\r\n          <h2>Cargando...</h2>\r\n        </div>\r\n      );\r\n    } else if (this.state.campeonato.tieneZonas === \"n\") {\r\n      return (\r\n        <div>\r\n          <div class=\"titulo\">{this.state.campeonato.descripcion}</div>\r\n          <div id=\"estado\">{this.state.campeonato.estado} <button onClick={() => {this.cambiarEstado()}}>Editar Campeonato</button></div> \r\n          <div class=\"tablas\">\r\n            {tabla(this.state.campeonato, this.state.tabla, 0)}\r\n          </div>\r\n          <div class=\"fixture\">\r\n            <div class=\"fechaSelectores\">\r\n              Fecha: \r\n              <select onChange={this.onChangeBuscarFecha.bind(this)}>\r\n                 {this.state.cantFechas.map(fecha => {\r\n                    return (\r\n                      <option value={fecha}> {fecha} </option>\r\n                    )\r\n                  })}\r\n                </select>\r\n            </div>\r\n            <table class=\"tablafixture\">\r\n                <tbody>\r\n                  <tr class=\"diafecha\">{this.state.partidos.filter((partido) => partido.nroFecha === this.state.fechaActual).at(0).fechaPartido}</tr>\r\n                  {this.state.partidos\r\n                  .filter((partido) => partido.nroFecha === this.state.fechaActual)\r\n                  .map((part, index) => \r\n                    mostrarPartido(part, index)\r\n                  )}\r\n                </tbody>\r\n            </table>\r\n          </div>\r\n        </div> \r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <div class=\"titulo\">{this.state.campeonato.descripcion}</div>\r\n          <div id=\"estado\">{this.state.campeonato.estado} <button onClick={() => {this.cambiarEstado()}}>Editar Campeonato</button></div>\r\n          <div class=\"tablas\">\r\n            {this.state.tabla.map((zona, index) =>\r\n              tabla(this.state.campeonato, zona, index + 1)\r\n            )}\r\n          </div>\r\n          <div class=\"fixture\">\r\n            <div class=\"fechaSelectores\">\r\n              Fecha: \r\n              <select onChange={this.onChangeBuscarFecha.bind(this)}>\r\n                 {this.state.cantFechas.map(fecha => {\r\n                    return (\r\n                      <option value={fecha}> {fecha} </option>\r\n                    )\r\n                  })}\r\n                </select>\r\n            </div>\r\n            <table class=\"tablafixture\">\r\n                <tbody>\r\n                  <tr class=\"diafecha\">{this.state.partidos.filter((partido) => partido.nroFecha === this.state.fechaActual).at(0).fechaPartido}</tr>\r\n                  {this.state.partidos\r\n                  .filter((partido) => partido.nroFecha === this.state.fechaActual)\r\n                  .map((part, index) => \r\n                    mostrarPartido(part, index)\r\n                  )}\r\n                </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Campeonato;\r\n"]},"metadata":{},"sourceType":"module"}