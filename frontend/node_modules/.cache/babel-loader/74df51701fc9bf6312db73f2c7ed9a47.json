{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mauricio\\\\Desktop\\\\UADE\\\\3\\xBA A\\xF1o 2C\\\\Aplicaciones Interactivas\\\\TPO\\\\fulboAPI\\\\frontend\\\\src\\\\componentes\\\\mostrarStats.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../estilos/estiloPagina.css\";\nimport mostrarDatoPartido from \"./mostrarDatoPartido\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MostrarStats extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: props.user,\n      idPartido: props.match.params.id,\n      partido: null,\n      datosJugadoresL: [],\n      datosJugadoresV: [],\n      cargando: true\n    };\n  }\n\n  convalidar() {\n    fetch(\"http://localhost:8080/validarResultado?idPartido=\" + this.state.idPartido + \"&idRepresentante=\" + this.state.user.id + \"&validacion=S\", {\n      method: \"PUT\",\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(() => {\n      alert(\"Validado Correctamente!\");\n      let boton = document.getElementById(\"botonConvalidar\");\n      boton.style.display = \"none\";\n    }).catch(e => console.log(e));\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:8080/getPartido?idPartido=\" + parseInt(this.state.idPartido)).then(response => response.json()).then(part => {\n      console.log(part);\n      this.setState({\n        partido: part\n      });\n\n      if (this.state.user.rol === \"Representante\" && this.state.partido.terminado === 'S') {\n        fetch(\"http://localhost:8080/getRepresentante?idRepresentante=\" + this.state.user.id).then(vuelta => vuelta.json()).then(rep => {\n          if (rep.club.idClub != this.state.partido.clubLocal.idClub && rep.club.idClub != this.state.partido.clubVisitante.idClub || rep.club.idClub === this.state.partido.clubLocal.idClub && this.state.partido.convalidaLocal === \"S\" || rep.club.idClub === this.state.partido.clubVisitante.idClub && this.state.partido.convalidaVisitante === \"S\") {\n            let boton = document.getElementById(\"botonConvalidar\");\n            boton.style.display = \"none\";\n          }\n        });\n      } else {\n        let boton = document.getElementById(\"botonConvalidar\");\n        boton.style.display = \"none\";\n      }\n\n      console.log(this.state.partido.jugadoresLocales);\n      this.state.partido.jugadoresLocales.map(miembro => fetch(\"http://localhost:8080/getDatoPartidoJugador?idPartido=\" + parseInt(this.state.idPartido) + \"&idJugador=\" + parseInt(miembro.jugador)).then(respuesta => respuesta.json()).then(datoJ => {\n        console.log(datoJ);\n        let datosJugL = this.state.datosJugadoresL;\n        datoJ.map(dato => datosJugL.push(dato));\n        let ordenado = false;\n\n        while (!ordenado) {\n          ordenado = true;\n\n          for (var i = 0; i < datosJugL.length - 1; i++) {\n            for (var j = i; j < datosJugL.length; j++) {\n              if (datosJugL.at(i).minuto > datosJugL.at(j).minuto) {\n                let aux = datosJugL.at(i);\n                datosJugL[i] = datosJugL.at(j);\n                datosJugL[j] = aux;\n              }\n            }\n          }\n\n          for (var k = 0; k < datosJugL.length - 1; k++) {\n            if (datosJugL.at(k).minuto > datosJugL.at(k + 1).minuto) {\n              ordenado = false;\n            }\n          }\n        }\n\n        this.setState({\n          datosJugadoresL: datosJugL\n        });\n      }).catch(error => {\n        console.log(`Hay un error en la llamada: ${error}`);\n      }));\n      this.state.partido.jugadoresVisitantes.map(miembro => fetch(\"http://localhost:8080/getDatoPartidoJugador?idPartido=\" + this.state.idPartido + \"&idJugador=\" + miembro.jugador).then(respuesta => respuesta.json()).then(datoJ => {\n        console.log(datoJ);\n        let datosJugV = this.state.datosJugadoresV;\n        datoJ.map(dato => datosJugV.push(dato));\n        let ordenado = false;\n\n        while (!ordenado) {\n          ordenado = true;\n\n          for (var i = 0; i < datosJugV.length - 1; i++) {\n            for (var j = i; j < datosJugV.length; j++) {\n              if (datosJugV.at(i).minuto > datosJugV.at(j).minuto) {\n                let aux = datosJugV.at(i);\n                datosJugV[i] = datosJugV.at(j);\n                datosJugV[j] = aux;\n              }\n            }\n          }\n\n          for (var k = 0; k < datosJugV.length - 1; k++) {\n            if (datosJugV.at(k).minuto > datosJugV.at(k + 1).minuto) {\n              ordenado = false;\n            }\n          }\n        }\n\n        this.setState({\n          datosJugadoresV: datosJugV\n        });\n      }).catch(error => {\n        console.log(`Hay un error en la llamada: ${error}`);\n      }));\n      this.setState({\n        cargando: false\n      });\n    }).catch(error => {\n      console.log(`Hay un error en la llamada: ${error}`);\n    });\n  }\n\n  render() {\n    if (this.state.cargando) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"vs\",\n          children: \"vs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"clocal\",\n          children: this.state.partido.clubLocal.nombre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"glocal\",\n          children: this.state.partido.golesLocal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"gvisitante\",\n          children: this.state.partido.golesVisitante\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"cvisitante\",\n          children: this.state.partido.clubVisitante.nombre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"descripcionLocal\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"hechos\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"ESTADISTICAS LOCAL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this), this.state.datosJugadoresL.map(datoJ => mostrarDatoPartido(datoJ))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"descripcionVisitante\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"hechos\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"ESTADISTICAS VISITANTE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this), this.state.datosJugadoresV.map(datoJ => mostrarDatoPartido(datoJ))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"botonConvalidar\",\n          onClick: this.convalidar.bind(this),\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"CONVALIDAR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"botonVolver\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/campeonato/\" + this.state.partido.campeonato,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"VOLVER\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            id: \"espacio\",\n            children: \"_\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nexport default MostrarStats;","map":{"version":3,"sources":["C:/Users/Mauricio/Desktop/UADE/3º Año 2C/Aplicaciones Interactivas/TPO/fulboAPI/frontend/src/componentes/mostrarStats.js"],"names":["React","useState","useEffect","Link","mostrarDatoPartido","MostrarStats","Component","constructor","props","state","user","idPartido","match","params","id","partido","datosJugadoresL","datosJugadoresV","cargando","convalidar","fetch","method","mode","headers","then","alert","boton","document","getElementById","style","display","catch","e","console","log","componentDidMount","parseInt","response","json","part","setState","rol","terminado","vuelta","rep","club","idClub","clubLocal","clubVisitante","convalidaLocal","convalidaVisitante","jugadoresLocales","map","miembro","jugador","respuesta","datoJ","datosJugL","dato","push","ordenado","i","length","j","at","minuto","aux","k","error","jugadoresVisitantes","datosJugV","render","nombre","golesLocal","golesVisitante","bind","campeonato"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../estilos/estiloPagina.css\";\r\nimport mostrarDatoPartido from \"./mostrarDatoPartido\";\r\n\r\nclass MostrarStats extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            user: props.user,\r\n            idPartido: props.match.params.id,\r\n            partido: null,\r\n            datosJugadoresL: [],\r\n            datosJugadoresV: [],\r\n            cargando: true\r\n        }\r\n    }\r\n\r\n    convalidar() {\r\n        fetch(\"http://localhost:8080/validarResultado?idPartido=\" + this.state.idPartido + \"&idRepresentante=\" + this.state.user.id + \"&validacion=S\", {method:\"PUT\", mode: 'cors', headers: {'Content-Type': 'application/json'}})\r\n        .then(() => {\r\n            alert(\"Validado Correctamente!\")\r\n            let boton = document.getElementById(\"botonConvalidar\")\r\n            boton.style.display = \"none\"\r\n        })\r\n        .catch(e => console.log(e))\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(\"http://localhost:8080/getPartido?idPartido=\" + parseInt(this.state.idPartido))\r\n        .then((response) => response.json())\r\n        .then((part) => {\r\n            console.log(part)\r\n            this.setState({partido: part})\r\n            if (this.state.user.rol === \"Representante\" && this.state.partido.terminado === 'S') {\r\n                fetch(\"http://localhost:8080/getRepresentante?idRepresentante=\" + this.state.user.id)\r\n                .then((vuelta) => vuelta.json())\r\n                .then((rep) => {\r\n                    if ((rep.club.idClub != this.state.partido.clubLocal.idClub && rep.club.idClub != this.state.partido.clubVisitante.idClub) || (rep.club.idClub === this.state.partido.clubLocal.idClub && this.state.partido.convalidaLocal === \"S\") || (rep.club.idClub === this.state.partido.clubVisitante.idClub && this.state.partido.convalidaVisitante === \"S\")) {\r\n                        let boton = document.getElementById(\"botonConvalidar\")\r\n                        boton.style.display = \"none\"\r\n                    }\r\n                })\r\n            }\r\n            else {\r\n                let boton = document.getElementById(\"botonConvalidar\")\r\n                boton.style.display = \"none\"\r\n            }\r\n            console.log(this.state.partido.jugadoresLocales)\r\n            this.state.partido.jugadoresLocales.map(miembro => \r\n                fetch(\"http://localhost:8080/getDatoPartidoJugador?idPartido=\" + parseInt(this.state.idPartido) + \"&idJugador=\" + parseInt(miembro.jugador))\r\n                .then((respuesta) => respuesta.json())\r\n                .then((datoJ) =>  {\r\n                    console.log(datoJ)\r\n                    let datosJugL = this.state.datosJugadoresL\r\n                    datoJ.map((dato) => datosJugL.push(dato))\r\n                    let ordenado = false\r\n                    while (!ordenado) {\r\n                        ordenado = true\r\n                        for (var i=0; i < datosJugL.length - 1; i++) {\r\n                            for (var j=i; j < datosJugL.length; j++) {\r\n                                if (datosJugL.at(i).minuto > datosJugL.at(j).minuto) {\r\n                                    let aux = datosJugL.at(i)\r\n                                    datosJugL[i] = datosJugL.at(j)\r\n                                    datosJugL[j] = aux\r\n                                }\r\n                            }\r\n                        }\r\n                        for (var k=0; k < datosJugL.length - 1; k++){\r\n                            if (datosJugL.at(k).minuto > datosJugL.at(k + 1).minuto){\r\n                                ordenado = false\r\n                            }\r\n                        }\r\n                    }\r\n                    this.setState({datosJugadoresL: datosJugL})\r\n                })\r\n                .catch((error) => {\r\n                    console.log(`Hay un error en la llamada: ${error}`);\r\n                })\r\n            )\r\n            this.state.partido.jugadoresVisitantes.map(miembro => \r\n                fetch(\"http://localhost:8080/getDatoPartidoJugador?idPartido=\" + this.state.idPartido + \"&idJugador=\" + miembro.jugador)\r\n                .then((respuesta) => respuesta.json())\r\n                .then((datoJ) =>  {\r\n                    console.log(datoJ)\r\n                    let datosJugV = this.state.datosJugadoresV\r\n                    datoJ.map((dato) => datosJugV.push(dato))\r\n                    let ordenado = false\r\n                    while (!ordenado) {\r\n                        ordenado = true\r\n                        for (var i=0; i < datosJugV.length - 1; i++) {\r\n                            for (var j=i; j < datosJugV.length; j++) {\r\n                                if (datosJugV.at(i).minuto > datosJugV.at(j).minuto) {\r\n                                    let aux = datosJugV.at(i)\r\n                                    datosJugV[i] = datosJugV.at(j)\r\n                                    datosJugV[j] = aux\r\n                                }\r\n                            }\r\n                        }\r\n                        for (var k=0; k < datosJugV.length - 1; k++){\r\n                            if (datosJugV.at(k).minuto > datosJugV.at(k + 1).minuto){\r\n                                ordenado = false\r\n                            }\r\n                        }\r\n                    }\r\n                    this.setState({datosJugadoresV: datosJugV})\r\n                })\r\n                .catch((error) => {\r\n                    console.log(`Hay un error en la llamada: ${error}`);\r\n                })\r\n            )\r\n            this.setState({cargando: false})\r\n        })\r\n        .catch((error) => {\r\n            console.log(`Hay un error en la llamada: ${error}`);\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.cargando) {\r\n            return (\r\n                <div>\r\n                  <h2>Cargando...</h2>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <div>\r\n                    <h2 id=\"vs\">vs</h2>\r\n                    <h2 id=\"clocal\">{this.state.partido.clubLocal.nombre}</h2>\r\n                    <h2 id=\"glocal\">{this.state.partido.golesLocal}</h2>\r\n                    <h2 id=\"gvisitante\">{this.state.partido.golesVisitante}</h2>\r\n                    <h2 id=\"cvisitante\">{this.state.partido.clubVisitante.nombre}</h2>\r\n                    <div class=\"descripcionLocal\">\r\n                        <div class=\"hechos\">\r\n                            <h4>ESTADISTICAS LOCAL</h4>\r\n                            {this.state.datosJugadoresL.map((datoJ) => mostrarDatoPartido(datoJ))}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"descripcionVisitante\">\r\n                        \r\n                        <div class=\"hechos\">\r\n                            <h4>ESTADISTICAS VISITANTE</h4>\r\n                            {this.state.datosJugadoresV.map((datoJ) => mostrarDatoPartido(datoJ))}\r\n                        </div>\r\n                    </div>\r\n                    <div id=\"botonConvalidar\" onClick={this.convalidar.bind(this)}>\r\n                        <h4>CONVALIDAR</h4>\r\n                    </div>\r\n                    <div class = \"botonVolver\">\r\n                        <Link to={\"/campeonato/\" + this.state.partido.campeonato}>\r\n                            <div>\r\n                                <h4>VOLVER</h4>\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n                    <div>\r\n                        <p id=\"espacio\">_</p>\r\n                    </div>\r\n                    <br/>\r\n                    <br/>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default MostrarStats;"]},"metadata":{},"sourceType":"module"}