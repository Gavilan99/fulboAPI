{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jmgav\\\\OneDrive\\\\Documentos\\\\UADE\\\\2021\\\\Segundo Cuatri\\\\1 - Aplicaciones interactivas\\\\Repo\\\\fulboAPI\\\\frontend\\\\src\\\\componentes\\\\campeonato.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Switch, Route, Link, Router } from \"react-router-dom\";\nimport \"../estilos/estiloPagina.css\";\nimport tabla from \"./tabla\";\nimport EdicionCampeonato from \"./EdicionCampeonato\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Campeonato extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(\"id: \" + props.match.params.id);\n    this.state = {\n      idCampeonato: props.match.params.id,\n      campeonato: null,\n      tabla: [],\n      cargando: true\n    };\n  } //id (int), descripcion (str), fechaInicio (Date), fechaFin (Date), estado (str), clubes (array de json)\n  //clubes[i]: id (int), nombre (str), direccion (str)\n\n\n  componentDidMount() {\n    fetch(\"http://localhost:8080/getCampeonato?idCampeonato=\" + this.state.idCampeonato).then(response => response.json()).then(camp => {\n      console.log(camp);\n      this.setState({\n        campeonato: camp\n      });\n\n      if (this.state.campeonato.tieneZonas === \"s\") {\n        fetch(\"http://localhost:8080/getTablaPorZonas?idCampeonato=\" + this.state.idCampeonato) //Busco resultados\n        .then(response => response.json()).then(tablasJSON => {\n          console.log(tablasJSON);\n          this.setState({\n            tabla: tablasJSON,\n            cargando: false\n          });\n        }).catch(error => {\n          console.log(`Hay un error en la llamada: ${error}`);\n        });\n      } else {\n        fetch(\"http://localhost:8080/getTablaPos?idCampeonato=\" + this.state.idCampeonato) //Busco resultados\n        .then(response => response.json()).then(tablasJSON => {\n          console.log(tablasJSON);\n          this.setState({\n            tabla: tablasJSON,\n            cargando: false\n          });\n        }).catch(error => {\n          console.log(`Hay un error en la llamada: ${error}`);\n        });\n      }\n    }).catch(error => {\n      console.log(`Hay un error en la llamada: ${error}`);\n    });\n  }\n\n  cambiarEstado() {\n    console.log(this.state);\n    fetch(\"http://localhost:8080/updateCampeonato\", {\n      method: \"PUT\",\n      body: JSON.stringify(this.state.campeonato)\n    }).then(response => {\n      this.state.campeonato.estado == \"activo\" ? this.setState({\n        campeonato: {\n          estado: \"inactivo\"\n        }\n      }) : this.setState({\n        campeonato: {\n          estado: \"activo\"\n        }\n      });\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    if (this.state.cargando) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this);\n    } else if (this.state.campeonato.tieneZonas === \"n\") {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"datosCampeonato\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"titulo\",\n          children: this.state.campeonato.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"estado\",\n          children: [this.state.campeonato.estado, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              this.cambiarEstado();\n            },\n            children: \"Editar Campeonato\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 62\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"tablaseccion\",\n          children: tabla(this.state.campeonato, this.state.tabla, 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"datosCampeonato\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"titulo\",\n          children: this.state.campeonato.descripcion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              EdicionCampeonato(this.state.campeonato);\n            },\n            class: \"botonEditar\",\n            children: \"Editar campeonato\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"tablaseccion\",\n          children: this.state.tabla.map((zona, index) => tabla(this.state.campeonato, zona, index + 1))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default Campeonato;","map":{"version":3,"sources":["C:/Users/jmgav/OneDrive/Documentos/UADE/2021/Segundo Cuatri/1 - Aplicaciones interactivas/Repo/fulboAPI/frontend/src/componentes/campeonato.js"],"names":["React","useState","useEffect","Switch","Route","Link","Router","tabla","EdicionCampeonato","Campeonato","Component","constructor","props","console","log","match","params","id","state","idCampeonato","campeonato","cargando","componentDidMount","fetch","then","response","json","camp","setState","tieneZonas","tablasJSON","catch","error","cambiarEstado","method","body","JSON","stringify","estado","e","render","descripcion","map","zona","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Switch, Route, Link, Router } from \"react-router-dom\";\r\nimport \"../estilos/estiloPagina.css\";\r\nimport tabla from \"./tabla\";\r\nimport EdicionCampeonato from \"./EdicionCampeonato\";\r\n\r\nclass Campeonato extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(\"id: \" + props.match.params.id);\r\n    this.state = {\r\n      idCampeonato: props.match.params.id,\r\n      campeonato: null,\r\n      tabla: [],\r\n      cargando: true,\r\n    };\r\n  }\r\n  //id (int), descripcion (str), fechaInicio (Date), fechaFin (Date), estado (str), clubes (array de json)\r\n  //clubes[i]: id (int), nombre (str), direccion (str)\r\n\r\n  componentDidMount() {\r\n    fetch(\r\n      \"http://localhost:8080/getCampeonato?idCampeonato=\" +\r\n        this.state.idCampeonato\r\n    )\r\n      .then((response) => response.json())\r\n      .then((camp) => {\r\n        console.log(camp);\r\n        this.setState({ campeonato: camp });\r\n        if (this.state.campeonato.tieneZonas === \"s\") {\r\n          fetch(\r\n            \"http://localhost:8080/getTablaPorZonas?idCampeonato=\" +\r\n              this.state.idCampeonato\r\n          ) //Busco resultados\r\n            .then((response) => response.json())\r\n            .then((tablasJSON) => {\r\n              console.log(tablasJSON);\r\n              this.setState({ tabla: tablasJSON, cargando: false });\r\n            })\r\n            .catch((error) => {\r\n              console.log(`Hay un error en la llamada: ${error}`);\r\n            });\r\n        } else {\r\n          fetch(\r\n            \"http://localhost:8080/getTablaPos?idCampeonato=\" +\r\n              this.state.idCampeonato\r\n          ) //Busco resultados\r\n            .then((response) => response.json())\r\n            .then((tablasJSON) => {\r\n              console.log(tablasJSON);\r\n              this.setState({ tabla: tablasJSON, cargando: false });\r\n            })\r\n            .catch((error) => {\r\n              console.log(`Hay un error en la llamada: ${error}`);\r\n            });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(`Hay un error en la llamada: ${error}`);\r\n      });\r\n  }\r\n\r\n  cambiarEstado() {\r\n    console.log(this.state)\r\n    fetch(\"http://localhost:8080/updateCampeonato\",{method:\"PUT\", body: JSON.stringify(this.state.campeonato)}).then(\r\n        response => {this.state.campeonato.estado == \"activo\" ? (this.setState({campeonato:{estado: \"inactivo\"}})) : (this.setState({campeonato:{estado: \"activo\"}}))}\r\n    ).catch(e => {console.log(e)})\r\n  }\r\n\r\n  render() {\r\n    if (this.state.cargando) {\r\n      return (\r\n        <div>\r\n          <h2>Cargando...</h2>\r\n        </div>\r\n      );\r\n    } else if (this.state.campeonato.tieneZonas === \"n\") {\r\n      return (\r\n        <div class=\"datosCampeonato\">\r\n          <div class=\"titulo\">{this.state.campeonato.descripcion}</div>\r\n          <div class=\"estado\">{this.state.campeonato.estado} <button onClick={() => {this.cambiarEstado()}}>Editar Campeonato</button></div> \r\n          <div id=\"tablaseccion\">\r\n            {tabla(this.state.campeonato, this.state.tabla, 0)}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div class=\"datosCampeonato\">\r\n          <div class=\"titulo\">{this.state.campeonato.descripcion}</div>\r\n          <div>\r\n              <button onClick={() => {EdicionCampeonato(this.state.campeonato)}} class=\"botonEditar\">\r\n                Editar campeonato\r\n                </button>\r\n          </div>\r\n          <div id=\"tablaseccion\">\r\n            {this.state.tabla.map((zona, index) =>\r\n              tabla(this.state.campeonato, zona, index + 1)\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Campeonato;\r\n"]},"metadata":{},"sourceType":"module"}